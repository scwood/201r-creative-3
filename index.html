<html ng-app="app">
  <head>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body>
    <div class="container" ng-controller="todoController">
      <div class="page-header">
        <h1>
          <i class="fa fa-fw fa-check-square-o" aria-hidden="true"></i>
          Persistant Angular Todo
        </h1>
        <br>
        <div class="alert alert-info" role="alert">
          <strong>
            Features:
            <ul>
              <li>
                Persistant storage using browser localStorage (can refresh)
                <i class="fa fa-fw fa-database" aria-hidden="true"></i>
              </li>
              <li><span class="label label-default">Labels</span></li>
            </ul>
          </strong>
        </div>
      </div>
      <div class="alert alert-danger" ng-show="error">
        {{error}}
      </div>
      <div class="form-group">
        <label>Text</label>
        <input
          ng-model="newTodo.text"
          class="form-control"
          placeholder="Walk the dog..." />
      </div>
      <div class="form-group">
        <label>Labels</label>
        <input
          ng-model="newTodo.labels"
          class="form-control"
          placeholder="seperate, labels, with, commas" />
      </div>
      <button class="btn btn-default" ng-click="addTodo()">Add todo</button>
      <hr />
      <div class="list-group">
        <span href="#" class="list-group-item" ng-repeat="todo in todos| orderBy: '-upvotes'" >
          <h4 class="list-group-item-heading" ng-class="todo.isDone && 'is-done'">
            {{todo.text}}
          </h4>
          <p class="list-group-item-text label-list">
            <span
              class="label label-default label-list-item"
              ng-repeat="label in todo.labels track by $index">{{label}}</span>
          </p>
          <button 
            class="btn btn-xs btn-success"
            ng-show="!todo.isDone"
            ng-click="toggleDone(todo)">
            <i class="fa fa-check fa-fw" aria-hidden="true"></i>
            Mark as done
          </button>
          <button 
            class="btn btn-xs btn-default"
            ng-show="todo.isDone"
            ng-click="toggleDone(todo)">
            Mark as incomplete
          </button>
          <button class="btn btn-xs btn-danger" ng-click="deleteTodo(todo)">
            <i class="fa fa-trash fa-fw" aria-hidden="true"></i>
            Delete
          </button>
          <button 
            class="btn btn-xs btn-info"
            ng-click="incrementUpvotes(todo)">
            <i class="fa fa-arrow-up" aria-hidden="true"></i>
          </button>
          <button 
            class="btn btn-xs btn-info"
            ng-click="decrementUpvotes(todo)">
            <i class="fa fa-arrow-down" aria-hidden="true"></i>
          </button>
          Importance: {{todo.upvotes}}
        </span>
      </div>
    </div>
    <script src="https://use.fontawesome.com/ffe88ad2da.js"></script>
    <script src="js/angular.min.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
